# Commit æ—¶åŒ…å«å“ªäº›æ–‡ä»¶ï¼Ÿ

## ğŸ¤” ä½ çš„é—®é¢˜

åœ¨ commit æ—¶ï¼Œåˆ—å‡ºæ¥çš„é‚£äº›æ–‡ä»¶ï¼Œæ˜¯åªåŒ…å«æš‚å­˜åŒºçš„æ–‡ä»¶ï¼Œè¿˜æ˜¯åŒ…å«äº†æš‚å­˜åŒºå’Œæœ¬åœ°ï¼ˆå·¥ä½œåŒºï¼‰çš„æ–‡ä»¶ï¼Ÿ

## ğŸ¯ æ ¸å¿ƒç­”æ¡ˆ

**`git commit` åªæäº¤æš‚å­˜åŒºçš„æ–‡ä»¶ï¼**

å·¥ä½œåŒºçš„æ–‡ä»¶ä¸ä¼šè¢«æäº¤ï¼Œé™¤éå®ƒä»¬å·²ç»è¢«æ·»åŠ åˆ°æš‚å­˜åŒºã€‚

---

## ğŸ“Š è¯¦ç»†è¯´æ˜

### Git çš„ä¸‰ä¸ªåŒºåŸŸ

```
å·¥ä½œåŒºï¼ˆWorking Directoryï¼‰
    â†“ git add
æš‚å­˜åŒºï¼ˆStaging Areaï¼‰
    â†“ git commit
æœ¬åœ°ä»“åº“ï¼ˆLocal Repositoryï¼‰
```

### Commit æ—¶åŒ…å«çš„æ–‡ä»¶

| åŒºåŸŸ | æ˜¯å¦ä¼šè¢«æäº¤ï¼Ÿ |
|------|--------------|
| **æš‚å­˜åŒº** | âœ… **ä¼šè¢«æäº¤** |
| **å·¥ä½œåŒºï¼ˆæœªæš‚å­˜ï¼‰** | âŒ **ä¸ä¼šè¢«æäº¤** |

---

## ğŸ“ å®é™…ä¾‹å­

### ä¾‹å­ 1: åªæœ‰æš‚å­˜åŒºçš„æ–‡ä»¶è¢«æäº¤

```bash
# 1. ä¿®æ”¹äº† 3 ä¸ªæ–‡ä»¶
vim app.py
vim utils.py
vim config.py

# 2. æŸ¥çœ‹çŠ¶æ€
git status
# Changes not staged for commit:
#   modified: app.py      (çº¢è‰²ï¼Œå·¥ä½œåŒº)
#   modified: utils.py    (çº¢è‰²ï¼Œå·¥ä½œåŒº)
#   modified: config.py    (çº¢è‰²ï¼Œå·¥ä½œåŒº)

# 3. åªæ·»åŠ  app.py åˆ°æš‚å­˜åŒº
git add app.py
git status
# Changes to be committed:
#   modified: app.py      (ç»¿è‰²ï¼Œæš‚å­˜åŒº)
# 
# Changes not staged for commit:
#   modified: utils.py    (çº¢è‰²ï¼Œå·¥ä½œåŒº)
#   modified: config.py    (çº¢è‰²ï¼Œå·¥ä½œåŒº)

# 4. æäº¤
git commit -m "Update app.py"
# è¾“å‡ºï¼š
# [main abc1234] Update app.py
#  1 file changed, 1 insertion(+)
# åªæäº¤äº† app.pyï¼ˆæš‚å­˜åŒºçš„æ–‡ä»¶ï¼‰

# 5. æŸ¥çœ‹çŠ¶æ€
git status
# Changes not staged for commit:
#   modified: utils.py    (çº¢è‰²ï¼Œå·¥ä½œåŒº)
#   modified: config.py   (çº¢è‰²ï¼Œå·¥ä½œåŒº)
# utils.py å’Œ config.py è¿˜åœ¨å·¥ä½œåŒºï¼Œæ²¡æœ‰è¢«æäº¤
```

**ç»“æœï¼š**
- âœ… åªæœ‰ `app.py` è¢«æäº¤ï¼ˆå®ƒåœ¨æš‚å­˜åŒºï¼‰
- âŒ `utils.py` å’Œ `config.py` æ²¡æœ‰è¢«æäº¤ï¼ˆå®ƒä»¬åªåœ¨å·¥ä½œåŒºï¼‰

---

### ä¾‹å­ 2: å¤šä¸ªæ–‡ä»¶åœ¨æš‚å­˜åŒº

```bash
# 1. ä¿®æ”¹äº† 3 ä¸ªæ–‡ä»¶
vim app.py
vim utils.py
vim config.py

# 2. æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add app.py utils.py config.py
git status
# Changes to be committed:
#   modified: app.py      (ç»¿è‰²ï¼Œæš‚å­˜åŒº)
#   modified: utils.py    (ç»¿è‰²ï¼Œæš‚å­˜åŒº)
#   modified: config.py   (ç»¿è‰²ï¼Œæš‚å­˜åŒº)

# 3. æäº¤
git commit -m "Update multiple files"
# è¾“å‡ºï¼š
# [main abc1234] Update multiple files
#  3 files changed, 5 insertions(+), 2 deletions(-)
# æäº¤äº† 3 ä¸ªæ–‡ä»¶ï¼ˆéƒ½åœ¨æš‚å­˜åŒºï¼‰

# 4. æŸ¥çœ‹çŠ¶æ€
git status
# nothing to commit, working tree clean
# æ‰€æœ‰æš‚å­˜åŒºçš„æ–‡ä»¶éƒ½è¢«æäº¤äº†
```

**ç»“æœï¼š**
- âœ… æ‰€æœ‰åœ¨æš‚å­˜åŒºçš„æ–‡ä»¶éƒ½è¢«æäº¤
- âœ… å·¥ä½œåŒºå¹²å‡€ï¼ˆæ²¡æœ‰æœªæš‚å­˜çš„æ–‡ä»¶ï¼‰

---

### ä¾‹å­ 3: éƒ¨åˆ†æ–‡ä»¶åœ¨æš‚å­˜åŒºï¼Œéƒ¨åˆ†åœ¨å·¥ä½œåŒº

```bash
# 1. ä¿®æ”¹äº† 3 ä¸ªæ–‡ä»¶
vim app.py
vim utils.py
vim config.py

# 2. åªæ·»åŠ  app.py å’Œ utils.py åˆ°æš‚å­˜åŒº
git add app.py utils.py
git status
# Changes to be committed:
#   modified: app.py      (ç»¿è‰²ï¼Œæš‚å­˜åŒº)
#   modified: utils.py   (ç»¿è‰²ï¼Œæš‚å­˜åŒº)
# 
# Changes not staged for commit:
#   modified: config.py   (çº¢è‰²ï¼Œå·¥ä½œåŒº)

# 3. æäº¤
git commit -m "Update app and utils"
# è¾“å‡ºï¼š
# [main abc1234] Update app and utils
#  2 files changed, 3 insertions(+)
# åªæäº¤äº† 2 ä¸ªæ–‡ä»¶ï¼ˆapp.py å’Œ utils.pyï¼‰

# 4. æŸ¥çœ‹çŠ¶æ€
git status
# Changes not staged for commit:
#   modified: config.py   (çº¢è‰²ï¼Œå·¥ä½œåŒº)
# config.py è¿˜åœ¨å·¥ä½œåŒºï¼Œæ²¡æœ‰è¢«æäº¤
```

**ç»“æœï¼š**
- âœ… `app.py` å’Œ `utils.py` è¢«æäº¤ï¼ˆå®ƒä»¬åœ¨æš‚å­˜åŒºï¼‰
- âŒ `config.py` æ²¡æœ‰è¢«æäº¤ï¼ˆå®ƒåªåœ¨å·¥ä½œåŒºï¼‰

---

## ğŸ” å¦‚ä½•æŸ¥çœ‹ Commit ä¼šåŒ…å«å“ªäº›æ–‡ä»¶ï¼Ÿ

### æ–¹æ³• 1: ä½¿ç”¨ git status

```bash
git status
```

**è¾“å‡ºè¯´æ˜ï¼š**
- **ç»¿è‰²ï¼ˆChanges to be committedï¼‰** = è¿™äº›æ–‡ä»¶ä¼šè¢«æäº¤ï¼ˆåœ¨æš‚å­˜åŒºï¼‰
- **çº¢è‰²ï¼ˆChanges not staged for commitï¼‰** = è¿™äº›æ–‡ä»¶ä¸ä¼šè¢«æäº¤ï¼ˆåªåœ¨å·¥ä½œåŒºï¼‰

### æ–¹æ³• 2: ä½¿ç”¨ git diff --staged

```bash
# æŸ¥çœ‹æš‚å­˜åŒºçš„æ–‡ä»¶ï¼ˆä¼šè¢«æäº¤çš„æ–‡ä»¶ï¼‰
git diff --staged
# æˆ–
git diff --cached
```

**è¾“å‡ºï¼š**
- æ˜¾ç¤ºæ‰€æœ‰åœ¨æš‚å­˜åŒºçš„æ–‡ä»¶
- è¿™äº›æ–‡ä»¶ä¼šè¢«æäº¤

### æ–¹æ³• 3: ä½¿ç”¨ git commitï¼ˆä¸æäº¤ï¼ŒåªæŸ¥çœ‹ï¼‰

```bash
# å¦‚æœç›´æ¥ git commitï¼ˆä¸å†™ -mï¼‰ï¼Œä¼šæ‰“å¼€ç¼–è¾‘å™¨
# ç¼–è¾‘å™¨ä¼šæ˜¾ç¤ºå°†è¦æäº¤çš„æ–‡ä»¶åˆ—è¡¨
git commit
```

---

## ğŸ“‹ çŠ¶æ€å¯¹æ¯”è¡¨

### æ–‡ä»¶åœ¨ä¸åŒåŒºåŸŸçš„çŠ¶æ€

| æ–‡ä»¶ä½ç½® | git status æ˜¾ç¤º | æ˜¯å¦ä¼šè¢«æäº¤ï¼Ÿ |
|---------|----------------|--------------|
| **åªåœ¨å·¥ä½œåŒº** | çº¢è‰²ï¼ˆChanges not stagedï¼‰ | âŒ ä¸ä¼š |
| **åœ¨æš‚å­˜åŒº** | ç»¿è‰²ï¼ˆChanges to be committedï¼‰ | âœ… ä¼š |
| **åœ¨æš‚å­˜åŒºå’Œå·¥ä½œåŒºéƒ½æœ‰ä¿®æ”¹** | ç»¿è‰²ï¼ˆæš‚å­˜åŒºï¼‰+ çº¢è‰²ï¼ˆå·¥ä½œåŒºï¼‰ | âš ï¸ åªæäº¤æš‚å­˜åŒºçš„ç‰ˆæœ¬ |

### ç‰¹æ®Šæƒ…å†µï¼šæ–‡ä»¶åœ¨æš‚å­˜åŒºå’Œå·¥ä½œåŒºéƒ½æœ‰ä¿®æ”¹

```bash
# 1. æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add app.py
# æš‚å­˜åŒºï¼šapp.py (ç‰ˆæœ¬A)

# 2. å†æ¬¡ä¿®æ”¹æ–‡ä»¶ï¼ˆå·¥ä½œåŒºï¼‰
vim app.py
# å·¥ä½œåŒºï¼šapp.py (ç‰ˆæœ¬Bï¼Œæ–°ä¿®æ”¹)
# æš‚å­˜åŒºï¼šapp.py (ç‰ˆæœ¬Aï¼Œæ—§ç‰ˆæœ¬)

# 3. æŸ¥çœ‹çŠ¶æ€
git status
# Changes to be committed:
#   modified: app.py      (ç»¿è‰²ï¼Œæš‚å­˜åŒºï¼Œç‰ˆæœ¬A)
# 
# Changes not staged for commit:
#   modified: app.py      (çº¢è‰²ï¼Œå·¥ä½œåŒºï¼Œç‰ˆæœ¬B)

# 4. æäº¤
git commit -m "Update app"
# åªæäº¤æš‚å­˜åŒºçš„ç‰ˆæœ¬A
# å·¥ä½œåŒºçš„ç‰ˆæœ¬Bä¸ä¼šè¢«æäº¤
```

**ç»“æœï¼š**
- âœ… æäº¤çš„æ˜¯æš‚å­˜åŒºçš„ç‰ˆæœ¬ï¼ˆç‰ˆæœ¬Aï¼‰
- âŒ å·¥ä½œåŒºçš„æ–°ä¿®æ”¹ï¼ˆç‰ˆæœ¬Bï¼‰ä¸ä¼šè¢«æäº¤
- âš ï¸ å¦‚æœæƒ³è®©ç‰ˆæœ¬Bä¹Ÿè¢«æäº¤ï¼Œéœ€è¦é‡æ–° `git add app.py`

---

## ğŸ¯ å…³é”®ç†è§£

### Commit çš„å·¥ä½œåŸç†

```
1. Git æŸ¥çœ‹æš‚å­˜åŒºï¼ˆ.git/indexï¼‰
2. æ‰¾åˆ°æ‰€æœ‰åœ¨æš‚å­˜åŒºçš„æ–‡ä»¶
3. åˆ›å»ºæäº¤å¯¹è±¡ï¼ŒåŒ…å«è¿™äº›æ–‡ä»¶
4. æ¸…ç©ºæš‚å­˜åŒº
5. å·¥ä½œåŒºçš„æ–‡ä»¶ä¸å—å½±å“
```

### è®°ä½

- âœ… **`git commit` åªæäº¤æš‚å­˜åŒºçš„æ–‡ä»¶**
- âŒ **å·¥ä½œåŒºçš„æ–‡ä»¶ä¸ä¼šè¢«æäº¤**
- âœ… **åªæœ‰æ‰§è¡Œ `git add` åï¼Œæ–‡ä»¶æ‰ä¼šè¿›å…¥æš‚å­˜åŒº**
- âœ… **åªæœ‰æš‚å­˜åŒºçš„æ–‡ä»¶æ‰ä¼šè¢«æäº¤**

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. æäº¤å‰æ£€æŸ¥

```bash
# æäº¤å‰ï¼Œå…ˆæŸ¥çœ‹çŠ¶æ€
git status

# ç¡®è®¤ç»¿è‰²éƒ¨åˆ†ï¼ˆæš‚å­˜åŒºï¼‰æ˜¯ä½ æƒ³æäº¤çš„æ–‡ä»¶
# ç¡®è®¤çº¢è‰²éƒ¨åˆ†ï¼ˆå·¥ä½œåŒºï¼‰æ˜¯ä½ ä¸æƒ³æäº¤çš„æ–‡ä»¶
```

### 2. é¢„è§ˆå°†è¦æäº¤çš„å†…å®¹

```bash
# æŸ¥çœ‹æš‚å­˜åŒºçš„æ–‡ä»¶ï¼ˆä¼šè¢«æäº¤çš„æ–‡ä»¶ï¼‰
git diff --staged

# ç¡®è®¤æ— è¯¯åå†æäº¤
git commit -m "Your message"
```

### 3. åˆ†æ‰¹æ¬¡æäº¤

```bash
# ä¸è¦ä¸€æ¬¡æ€§æäº¤æ‰€æœ‰æ–‡ä»¶
# âœ… å¥½ä¹ æƒ¯ï¼šå®Œæˆä¸€ä¸ªåŠŸèƒ½å°±æäº¤
git add app.py
git commit -m "Add feature A"

git add utils.py
git commit -m "Add feature B"
```

---

## ğŸ“Š å®Œæ•´æµç¨‹ç¤ºä¾‹

```bash
# 1. ä¿®æ”¹æ–‡ä»¶
vim app.py
vim utils.py
vim config.py

# 2. æŸ¥çœ‹çŠ¶æ€
git status
# Changes not staged for commit:
#   modified: app.py      (çº¢è‰²ï¼Œå·¥ä½œåŒº)
#   modified: utils.py    (çº¢è‰²ï¼Œå·¥ä½œåŒº)
#   modified: config.py   (çº¢è‰²ï¼Œå·¥ä½œåŒº)

# 3. æ·»åŠ éƒ¨åˆ†æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add app.py utils.py
git status
# Changes to be committed:
#   modified: app.py      (ç»¿è‰²ï¼Œæš‚å­˜åŒº) â† ä¼šè¢«æäº¤
#   modified: utils.py    (ç»¿è‰²ï¼Œæš‚å­˜åŒº) â† ä¼šè¢«æäº¤
# 
# Changes not staged for commit:
#   modified: config.py   (çº¢è‰²ï¼Œå·¥ä½œåŒº) â† ä¸ä¼šè¢«æäº¤

# 4. æäº¤
git commit -m "Update app and utils"
# è¾“å‡ºï¼š
# [main abc1234] Update app and utils
#  2 files changed, 3 insertions(+)
# åªæäº¤äº† 2 ä¸ªæ–‡ä»¶ï¼ˆapp.py å’Œ utils.pyï¼‰

# 5. æŸ¥çœ‹çŠ¶æ€
git status
# Changes not staged for commit:
#   modified: config.py   (çº¢è‰²ï¼Œå·¥ä½œåŒº)
# config.py è¿˜åœ¨å·¥ä½œåŒºï¼Œæ²¡æœ‰è¢«æäº¤
```

---

## ğŸ¯ æ€»ç»“

### Commit æ—¶åŒ…å«çš„æ–‡ä»¶

| åŒºåŸŸ | æ˜¯å¦ä¼šè¢«æäº¤ï¼Ÿ | å¦‚ä½•è¯†åˆ«ï¼Ÿ |
|------|--------------|-----------|
| **æš‚å­˜åŒº** | âœ… **ä¼šè¢«æäº¤** | `git status` æ˜¾ç¤ºç»¿è‰² |
| **å·¥ä½œåŒºï¼ˆæœªæš‚å­˜ï¼‰** | âŒ **ä¸ä¼šè¢«æäº¤** | `git status` æ˜¾ç¤ºçº¢è‰² |

### å…³é”®ç‚¹

1. âœ… **`git commit` åªæäº¤æš‚å­˜åŒºçš„æ–‡ä»¶**
2. âŒ **å·¥ä½œåŒºçš„æ–‡ä»¶ä¸ä¼šè¢«æäº¤**
3. âœ… **åªæœ‰æ‰§è¡Œ `git add` åï¼Œæ–‡ä»¶æ‰ä¼šè¿›å…¥æš‚å­˜åŒº**
4. âœ… **æäº¤å‰å¯ä»¥ç”¨ `git status` æŸ¥çœ‹å“ªäº›æ–‡ä»¶ä¼šè¢«æäº¤**

### è®°ä½

- **ç»¿è‰² = ä¼šè¢«æäº¤**ï¼ˆæš‚å­˜åŒºï¼‰
- **çº¢è‰² = ä¸ä¼šè¢«æäº¤**ï¼ˆå·¥ä½œåŒºï¼‰
- **åªæœ‰æš‚å­˜åŒºçš„æ–‡ä»¶æ‰ä¼šè¢«æäº¤**

---

**ç®€å•è®°å¿†ï¼šCommit åªæäº¤ç»¿è‰²çš„æ–‡ä»¶ï¼ˆæš‚å­˜åŒºï¼‰ï¼Œçº¢è‰²çš„æ–‡ä»¶ï¼ˆå·¥ä½œåŒºï¼‰ä¸ä¼šè¢«æäº¤ï¼**
