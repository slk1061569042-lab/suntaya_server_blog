---
name: doc-generation-rules
description: 文档生成规则 - 默认不上传到Git，除非明确指定
---

# 文档生成规则

## 🎯 核心规则

**默认行为：生成的文档不上传到 Git，除非用户明确要求提交到 Git。**

## 📁 文档存放位置

### 1. 默认位置（不上传到 Git）

生成的文档默认应放在以下位置，这些位置会被 `.gitignore` 自动忽略：

- **项目根目录** - 直接放在项目根目录下的 `.md` 文件会被忽略
- **临时文件夹** - 可以创建临时文件夹存放生成的文档
- **任何不在跟踪列表中的文件夹**

**示例：**
```
suntaya_server_blog/
├── generated-docs/          # 新建文件夹，会被忽略
│   └── 生成的文档.md
├── temp-docs/              # 临时文档文件夹
│   └── 临时文档.md
└── 直接生成的文档.md        # 根目录下的文档会被忽略
```

### 2. 需要提交到 Git 的位置

**只有在用户明确要求提交到 Git 时，才将文档放在以下文件夹：**

- `docs/` - 重要项目文档（会被 Git 跟踪）
- `content/git-docs/` - Git 相关文档（会被 Git 跟踪）
- `dev_docs/` - 开发文档（会被 Git 跟踪）
- `archive/docs/` - 网站内容文档（会被 Git 跟踪）
- `office-addins/` - Office 插件文档（会被 Git 跟踪）
- `.cursor/commands/` - Cursor 命令文档（会被 Git 跟踪）

## 🔄 工作流程

### 生成文档时的决策流程

```
1. 用户请求生成文档
   ↓
2. 检查用户是否明确要求提交到 Git？
   ├─ 是 → 询问或确认放在哪个跟踪文件夹（docs/、content/git-docs/ 等）
   └─ 否 → 默认放在根目录或创建临时文件夹（不上传）
   ↓
3. 生成文档
   ↓
4. 提示用户文档位置和是否会被 Git 跟踪
```

### 示例场景

#### 场景 1：用户未指定提交到 Git
```
用户: "帮我生成一个配置说明文档"
AI: 生成文档到项目根目录或临时文件夹
    → 文档不会被 Git 跟踪
```

#### 场景 2：用户明确要求提交到 Git
```
用户: "生成文档并提交到 Git"
或
用户: "把这个文档放到 docs 文件夹"
AI: 生成文档到 docs/ 文件夹
    → 文档会被 Git 跟踪
```

## ⚠️ 重要提示

1. **默认不上传** - 除非用户明确要求，否则所有生成的文档默认不上传到 Git

2. **明确询问** - 如果用户要求提交到 Git，应询问或确认放在哪个文件夹：
   - `docs/` - 重要项目文档
   - `content/git-docs/` - Git 相关文档
   - `dev_docs/` - 开发文档
   - 其他跟踪文件夹

3. **提示用户** - 生成文档后，明确告知用户：
   - 文档位置
   - 是否会被 Git 跟踪
   - 如何提交到 Git（如果需要）

## 📝 示例对话

### 示例 1：默认不上传
```
用户: "帮我生成一个 Docker 部署指南"
AI: [生成文档到根目录]
    "已生成文档：Docker部署指南.md（位于项目根目录）"
    "注意：此文档默认不会被 Git 跟踪。如需提交到 Git，请告诉我。"
```

### 示例 2：明确要求提交
```
用户: "生成文档并提交到 Git 的 docs 文件夹"
AI: [生成文档到 docs/ 文件夹]
    "已生成文档：docs/Docker部署指南.md"
    "此文档会被 Git 跟踪，可以使用 git add 和 git commit 提交。"
```

## 🔍 验证规则

生成文档后，可以使用以下命令验证：

```powershell
# 检查文档是否被 Git 忽略
git check-ignore 文档路径.md

# 如果返回路径，说明被忽略（不上传）
# 如果没有返回，说明会被跟踪（会上传）
```

---

**最后更新**: 2026-01-19
**规则状态**: ✅ 生效中
