# ä¸ºä»€ä¹ˆæœ¬åœ°çœ‹ä¸åˆ° .next æ–‡ä»¶ï¼Ÿ

**æ—¶é—´**: 2026-01-20  
**é—®é¢˜**: æœ¬åœ° `.next` ç›®å½•ä¸‹çœ‹ä¸åˆ° `routes-manifest.json` ç­‰æ–‡ä»¶

## ğŸ” åŸå› åˆ†æ

### 1. `.next` ç›®å½•æ˜¯æ„å»ºè¾“å‡ºï¼Œä¸åœ¨ Git ä¸­

**`.gitignore` é…ç½®**ï¼ˆç¬¬ 20 è¡Œï¼‰ï¼š
```
/.next/
```

**è¯´æ˜**ï¼š
- âœ… `.next` ç›®å½•è¢« Git å¿½ç•¥
- âœ… è¿™äº›æ–‡ä»¶æ˜¯æ„å»ºæ—¶ç”Ÿæˆçš„ï¼Œä¸éœ€è¦æäº¤åˆ° Git
- âœ… æ¯æ¬¡æ„å»ºéƒ½ä¼šé‡æ–°ç”Ÿæˆ

---

### 2. éœ€è¦å…ˆè¿è¡Œæ„å»ºæ‰èƒ½çœ‹åˆ°

**`.next` ç›®å½•ä¸­çš„æ–‡ä»¶æ˜¯åœ¨è¿è¡Œ `npm run build` æ—¶ç”Ÿæˆçš„**ï¼š

```bash
# æœ¬åœ°æ„å»ºå‘½ä»¤
npm run build

# æ„å»ºåä¼šç”Ÿæˆï¼š
.next/
â”œâ”€â”€ routes-manifest.json      # âœ… æ„å»ºæ—¶ç”Ÿæˆ
â”œâ”€â”€ prerender-manifest.json   # âœ… æ„å»ºæ—¶ç”Ÿæˆ
â”œâ”€â”€ BUILD_ID                  # âœ… æ„å»ºæ—¶ç”Ÿæˆ
â”œâ”€â”€ static/                   # âœ… æ„å»ºæ—¶ç”Ÿæˆ
â”œâ”€â”€ standalone/               # âœ… æ„å»ºæ—¶ç”Ÿæˆï¼ˆstandalone æ¨¡å¼ï¼‰
â””â”€â”€ ...
```

---

### 3. æœ¬åœ°å¯èƒ½æ²¡æœ‰è¿è¡Œè¿‡æ„å»º

**æ£€æŸ¥æ–¹æ³•**ï¼š
```powershell
# æ£€æŸ¥ .next ç›®å½•æ˜¯å¦å­˜åœ¨
Test-Path .next

# å¦‚æœè¿”å› Falseï¼Œè¯´æ˜è¿˜æ²¡æœ‰è¿è¡Œè¿‡æ„å»º
```

**ç”Ÿæˆè¿™äº›æ–‡ä»¶**ï¼š
```powershell
# 1. å®‰è£…ä¾èµ–ï¼ˆå¦‚æœè¿˜æ²¡å®‰è£…ï¼‰
npm install

# 2. è¿è¡Œæ„å»º
npm run build

# 3. æ„å»ºå®Œæˆåï¼Œ.next ç›®å½•å°±ä¼šå‡ºç°
# 4. ç„¶åå°±å¯ä»¥çœ‹åˆ° routes-manifest.json ç­‰æ–‡ä»¶äº†
```

---

## ğŸ“‹ æ–‡ä»¶ç”Ÿæˆæµç¨‹

### æœ¬åœ°æ„å»ºæµç¨‹

```
1. è¿è¡Œ npm run build
   â†“
2. Next.js ç¼–è¯‘ä»£ç 
   â”œâ”€â”€ ç¼–è¯‘ TypeScript/JavaScript
   â”œâ”€â”€ å¤„ç†è·¯ç”±
   â”œâ”€â”€ ç”Ÿæˆé™æ€èµ„æº
   â””â”€â”€ åˆ›å»ºæ„å»ºå…ƒæ•°æ®
   â†“
3. ç”Ÿæˆ .next ç›®å½•
   â”œâ”€â”€ routes-manifest.json      # è·¯ç”±æ¸…å•
   â”œâ”€â”€ prerender-manifest.json   # é¢„æ¸²æŸ“æ¸…å•
   â”œâ”€â”€ BUILD_ID                  # æ„å»º ID
   â”œâ”€â”€ static/                   # é™æ€èµ„æº
   â””â”€â”€ standalone/               # ç‹¬ç«‹æœåŠ¡å™¨æ–‡ä»¶ï¼ˆstandalone æ¨¡å¼ï¼‰
   â†“
4. æ„å»ºå®Œæˆ
```

---

## ğŸ” å¦‚ä½•æŸ¥çœ‹è¿™äº›æ–‡ä»¶ï¼Ÿ

### æ–¹æ³• 1: åœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­æŸ¥çœ‹

**æ–‡ä»¶ä½ç½®**ï¼š
```
e:\GitSpace\suntaya_server_blog\
â””â”€â”€ .next/                          # âš ï¸ æ³¨æ„ï¼šè¿™æ˜¯éšè—ç›®å½•ï¼ˆä»¥ç‚¹å¼€å¤´ï¼‰
    â”œâ”€â”€ routes-manifest.json        # âœ… åœ¨è¿™é‡Œï¼ˆæ ¹ç›®å½•ä¸‹ï¼‰
    â”œâ”€â”€ prerender-manifest.json     # âœ… åœ¨è¿™é‡Œ
    â”œâ”€â”€ BUILD_ID                    # âœ… åœ¨è¿™é‡Œ
    â”œâ”€â”€ static/                     # âœ… é™æ€èµ„æºç›®å½•
    â””â”€â”€ standalone/                 # âœ… standalone æ¨¡å¼è¾“å‡ºï¼ˆå¦‚æœå·²æ„å»ºï¼‰
```

**æŸ¥çœ‹æ–¹æ³•**ï¼š
1. **åœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­**ï¼š
   - éœ€è¦æ˜¾ç¤ºéšè—æ–‡ä»¶å’Œæ–‡ä»¶å¤¹
   - Windows: æŸ¥çœ‹ â†’ æ˜¾ç¤º â†’ éšè—çš„é¡¹ç›®
   - æˆ–è€…ç›´æ¥åœ¨åœ°å€æ è¾“å…¥ï¼š`e:\GitSpace\suntaya_server_blog\.next`

2. **åœ¨ VS Code/Cursor ä¸­**ï¼š
   - æŒ‰ `Ctrl+Shift+P` â†’ è¾“å…¥ "Files: Toggle Excluded Files"
   - æˆ–è€…ç›´æ¥åœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­å±•å¼€ `.next` ç›®å½•

### æ–¹æ³• 2: ä½¿ç”¨ PowerShell æŸ¥çœ‹

**æ­¥éª¤**ï¼š
```powershell
# 1. è¿›å…¥é¡¹ç›®ç›®å½•
cd e:\GitSpace\suntaya_server_blog

# 2. æŸ¥çœ‹ .next ç›®å½•å†…å®¹ï¼ˆåŒ…æ‹¬éšè—æ–‡ä»¶ï¼‰
Get-ChildItem .next -Force

# 3. æŸ¥çœ‹ routes-manifest.jsonï¼ˆåœ¨æ ¹ç›®å½•ä¸‹ï¼‰
Get-Content .next/routes-manifest.json

# 4. åˆ—å‡ºæ‰€æœ‰ manifest æ–‡ä»¶
Get-ChildItem .next -Recurse -Filter "*manifest*"
```

**å½“å‰çŠ¶æ€**ï¼š
- âœ… `.next` ç›®å½•å­˜åœ¨
- âœ… `routes-manifest.json` å­˜åœ¨ï¼ˆåœ¨ `.next/` æ ¹ç›®å½•ä¸‹ï¼‰
- âœ… å…¶ä»– manifest æ–‡ä»¶ä¹Ÿå­˜åœ¨

**æ³¨æ„**ï¼š
- âš ï¸ `.next` æ˜¯éšè—ç›®å½•ï¼ˆä»¥ç‚¹å¼€å¤´ï¼‰ï¼Œå¯èƒ½éœ€è¦åœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­æ˜¾ç¤ºéšè—æ–‡ä»¶
- âš ï¸ è¿™äº›æ–‡ä»¶æ˜¯æ„å»ºæ—¶ç”Ÿæˆçš„ï¼Œä¸éœ€è¦æäº¤åˆ° Git

---

### æ–¹æ³• 2: æŸ¥çœ‹æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶

**é€šè¿‡ SSH æŸ¥çœ‹**ï¼š
```powershell
# æŸ¥çœ‹æœåŠ¡å™¨ä¸Šçš„ .next ç›®å½•
ssh root@115.190.54.220 "ls -la /www/wwwroot/next.sunyas.com/.next/"

# æŸ¥çœ‹ routes-manifest.json
ssh root@115.190.54.220 "cat /www/wwwroot/next.sunyas.com/.next/routes-manifest.json"
```

---

## ğŸ“Š æ–‡ä»¶ä½ç½®å¯¹æ¯”

### æœ¬åœ°ï¼ˆæ„å»ºåï¼‰

```
e:\GitSpace\suntaya_server_blog/
â”œâ”€â”€ .next/                    # âœ… æ„å»ºåç”Ÿæˆï¼ˆè¢« .gitignore å¿½ç•¥ï¼‰
â”‚   â”œâ”€â”€ routes-manifest.json  # âœ… æ„å»ºæ—¶ç”Ÿæˆ
â”‚   â”œâ”€â”€ BUILD_ID              # âœ… æ„å»ºæ—¶ç”Ÿæˆ
â”‚   â”œâ”€â”€ static/               # âœ… æ„å»ºæ—¶ç”Ÿæˆ
â”‚   â””â”€â”€ standalone/           # âœ… æ„å»ºæ—¶ç”Ÿæˆï¼ˆstandalone æ¨¡å¼ï¼‰
â”œâ”€â”€ app/                      # âœ… æºä»£ç ï¼ˆåœ¨ Git ä¸­ï¼‰
â”œâ”€â”€ components/               # âœ… æºä»£ç ï¼ˆåœ¨ Git ä¸­ï¼‰
â””â”€â”€ package.json              # âœ… é…ç½®æ–‡ä»¶ï¼ˆåœ¨ Git ä¸­ï¼‰
```

### æœåŠ¡å™¨ï¼ˆéƒ¨ç½²åï¼‰

```
/www/wwwroot/next.sunyas.com/
â”œâ”€â”€ .next/                    # âœ… ä» Jenkins æ„å»ºä¸Šä¼ 
â”‚   â”œâ”€â”€ routes-manifest.json  # âœ… å¿…éœ€æ–‡ä»¶
â”‚   â”œâ”€â”€ BUILD_ID              # âœ… å¿…éœ€æ–‡ä»¶
â”‚   â”œâ”€â”€ static/               # âœ… å¿…éœ€æ–‡ä»¶
â”‚   â””â”€â”€ (å…¶ä»–æ„å»ºæ–‡ä»¶)
â”œâ”€â”€ server.js                 # âœ… ä» .next/standalone/ å¤åˆ¶
â”œâ”€â”€ node_modules/             # âœ… ä» .next/standalone/ å¤åˆ¶
â””â”€â”€ package.json              # âœ… ä»æºä»£ç å¤åˆ¶
```

---

## ğŸ¯ ä¸ºä»€ä¹ˆè¿™äº›æ–‡ä»¶ä¸åœ¨ Git ä¸­ï¼Ÿ

### åŸå› 

1. **æ„å»ºè¾“å‡º**ï¼šè¿™äº›æ–‡ä»¶æ˜¯æ„å»ºæ—¶ç”Ÿæˆçš„ï¼Œä¸æ˜¯æºä»£ç 
2. **ä½“ç§¯å¤§**ï¼š`.next` ç›®å½•å¯èƒ½åŒ…å«å¤§é‡æ–‡ä»¶ï¼Œå ç”¨ç©ºé—´
3. **ç¯å¢ƒç›¸å…³**ï¼šä¸åŒç¯å¢ƒï¼ˆå¼€å‘/ç”Ÿäº§ï¼‰çš„æ„å»ºè¾“å‡ºå¯èƒ½ä¸åŒ
4. **å¯é‡å¤ç”Ÿæˆ**ï¼šæ¯æ¬¡æ„å»ºéƒ½ä¼šé‡æ–°ç”Ÿæˆï¼Œä¸éœ€è¦ç‰ˆæœ¬æ§åˆ¶

### æ­£ç¡®çš„åšæ³•

- âœ… **æºä»£ç ** â†’ æäº¤åˆ° Gitï¼ˆ`app/`, `components/`, `package.json` ç­‰ï¼‰
- âŒ **æ„å»ºè¾“å‡º** â†’ ä¸æäº¤åˆ° Gitï¼ˆ`.next/`, `node_modules/` ç­‰ï¼‰
- âœ… **éƒ¨ç½²æ—¶æ„å»º** â†’ åœ¨ Jenkins ä¸­è¿è¡Œ `npm run build` ç”Ÿæˆ

---

## ğŸ“ æ€»ç»“

### ä¸ºä»€ä¹ˆæœ¬åœ°çœ‹ä¸åˆ°ï¼Ÿ

1. **`.next` æ˜¯éšè—ç›®å½•** â†’ ä»¥ç‚¹å¼€å¤´çš„ç›®å½•ï¼Œæ–‡ä»¶æµè§ˆå™¨é»˜è®¤å¯èƒ½ä¸æ˜¾ç¤º
2. **`.next` ç›®å½•è¢« `.gitignore` å¿½ç•¥** â†’ ä¸ä¼šå‡ºç°åœ¨ Git ä»“åº“ä¸­
3. **æ–‡ä»¶åœ¨æ ¹ç›®å½•ä¸‹** â†’ `routes-manifest.json` åœ¨ `.next/` æ ¹ç›®å½•ï¼Œä¸åœ¨å­ç›®å½•ä¸­

### å¦‚ä½•æŸ¥çœ‹ï¼Ÿ

**åœ¨æ–‡ä»¶æµè§ˆå™¨ä¸­**ï¼š
- æ˜¾ç¤ºéšè—æ–‡ä»¶å’Œæ–‡ä»¶å¤¹
- æˆ–è€…ç›´æ¥è®¿é—®ï¼š`e:\GitSpace\suntaya_server_blog\.next\routes-manifest.json`

**åœ¨ PowerShell ä¸­**ï¼š
```powershell
# æŸ¥çœ‹æ–‡ä»¶
Get-Content .next/routes-manifest.json

# åˆ—å‡ºæ‰€æœ‰æ–‡ä»¶
Get-ChildItem .next -Force
```

**å½“å‰çŠ¶æ€**ï¼š
- âœ… æ–‡ä»¶ç¡®å®å­˜åœ¨ï¼š`.next/routes-manifest.json`
- âœ… æ–‡ä»¶å¤§å°ï¼š2335 å­—èŠ‚
- âœ… æ–‡ä»¶å†…å®¹ï¼šåŒ…å«è·¯ç”±é…ç½®ä¿¡æ¯

### å¦‚ä½•æŸ¥çœ‹è¿™äº›æ–‡ä»¶ï¼Ÿ

1. **æœ¬åœ°æ„å»º**ï¼šè¿è¡Œ `npm run build`ï¼Œç„¶åæŸ¥çœ‹ `.next` ç›®å½•
2. **æŸ¥çœ‹æœåŠ¡å™¨**ï¼šé€šè¿‡ SSH è¿æ¥åˆ°æœåŠ¡å™¨æŸ¥çœ‹
3. **æŸ¥çœ‹ Jenkins æ„å»ºæ—¥å¿—**ï¼šJenkins æ„å»ºæ—¶ä¼šæ˜¾ç¤ºè¿™äº›æ–‡ä»¶

### è¿™äº›æ–‡ä»¶çš„ä½œç”¨

- **`routes-manifest.json`** â†’ å‘Šè¯‰ Next.js æœ‰å“ªäº›è·¯ç”±
- **`BUILD_ID`** â†’ æ ‡è¯†æ„å»ºç‰ˆæœ¬
- **`static/`** â†’ é™æ€èµ„æºï¼ˆCSSã€JSã€å›¾ç‰‡ç­‰ï¼‰
- **`standalone/`** â†’ ç‹¬ç«‹æœåŠ¡å™¨æ–‡ä»¶ï¼ˆstandalone æ¨¡å¼ï¼‰

**è¿™äº›æ–‡ä»¶åœ¨æ„å»ºæ—¶è‡ªåŠ¨ç”Ÿæˆï¼Œéƒ¨ç½²æ—¶ä¼šè¢«ä¸Šä¼ åˆ°æœåŠ¡å™¨ã€‚**

---

**æœ€åæ›´æ–°**: 2026-01-20
