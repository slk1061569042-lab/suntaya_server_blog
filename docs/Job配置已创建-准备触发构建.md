# Job é…ç½®å·²åˆ›å»º - å‡†å¤‡è§¦å‘æ„å»º

**æ—¶é—´**: 2026-01-19  
**çŠ¶æ€**: âœ… Job é…ç½®å·²åˆ›å»º

## âœ… å·²å®Œæˆ

1. **åˆ›å»º Job ç›®å½•**: `/var/jenkins_home/jobs/suntaya-server-blog`
2. **å¤åˆ¶é…ç½®æ–‡ä»¶**: `config.xml` å·²å¤åˆ¶åˆ° Job ç›®å½•
3. **è®¾ç½®æƒé™**: å·²è®¾ç½®ä¸º `jenkins:jenkins` æ‰€æœ‰è€…

## ğŸ§ª ç°åœ¨å¯ä»¥è§¦å‘æ„å»º

### æ–¹æ³• 1: é€šè¿‡ Web UIï¼ˆæ¨èï¼‰

1. **è®¿é—® Jenkins**: http://115.190.54.220:14808
2. **åˆ·æ–°é¡µé¢**: æŒ‰ `F5` åˆ·æ–°ï¼Œåº”è¯¥èƒ½çœ‹åˆ° `suntaya-server-blog` Job
3. **è¿›å…¥ Job**: ç‚¹å‡» `suntaya-server-blog`
4. **è§¦å‘æ„å»º**: ç‚¹å‡»å·¦ä¾§èœå•çš„ **Build Now**ï¼ˆç«‹å³æ„å»ºï¼‰

### æ–¹æ³• 2: ç­‰å¾… Jenkins é‡æ–°åŠ è½½

Jenkins ä¼šè‡ªåŠ¨æ£€æµ‹åˆ°æ–°çš„ Job é…ç½®ï¼Œå¯èƒ½éœ€è¦å‡ ç§’é’Ÿã€‚

å¦‚æœ Web UI ä¸­è¿˜æ²¡æœ‰æ˜¾ç¤ºï¼Œå¯ä»¥ï¼š
1. ç­‰å¾… 10-30 ç§’
2. åˆ·æ–°é¡µé¢
3. æˆ–è€…é‡å¯ Jenkins å®¹å™¨ï¼ˆä¸æ¨èï¼Œé™¤éå¿…è¦ï¼‰

---

## ğŸ“‹ æ„å»ºåçš„éªŒè¯

### æ­¥éª¤ 1: è§‚å¯Ÿæ„å»ºè¿‡ç¨‹

æ„å»ºå¼€å§‹åï¼Œç‚¹å‡»æ„å»ºå·æŸ¥çœ‹ Console Outputï¼Œåº”è¯¥çœ‹åˆ°ï¼š

```
[Pipeline] stage
[Pipeline] { (Checkout)
[Pipeline] checkout
Cloning repository git@github.com:slk1061569042-lab/suntaya_server_blog.git
Checking out branch main
```

### æ­¥éª¤ 2: éªŒè¯ä»£ç åŒæ­¥

å¦‚æœçœ‹åˆ° "Cloning repository" å’Œ "Checking out branch main"ï¼Œè¯´æ˜ï¼š
- âœ… GitHub è¿æ¥æ­£å¸¸
- âœ… ä»£ç å·²æˆåŠŸåŒæ­¥åˆ° Jenkins å·¥ä½œåŒº
- âœ… Jenkinsfile å·²åŠ è½½

### æ­¥éª¤ 3: éªŒè¯æ„å»ºæµç¨‹

åº”è¯¥çœ‹åˆ°ä»¥ä¸‹é˜¶æ®µï¼š

1. âœ… **Checkout**: ä»£ç æ£€å‡º
2. âœ… **Install Dependencies**: å®‰è£…ä¾èµ–
3. âœ… **Lint**: ä»£ç æ£€æŸ¥ï¼ˆå¦‚æœæœ‰ï¼‰
4. âœ… **Build Next.js**: æ„å»ºé¡¹ç›®
5. âœ… **Export static site**: é™æ€å¯¼å‡º
6. âœ… **Deploy**: éƒ¨ç½²åˆ°æœåŠ¡å™¨

---

## ğŸ” å¦‚æœæ„å»ºå¤±è´¥

### æŸ¥çœ‹æ„å»ºæ—¥å¿—

1. è¿›å…¥å¤±è´¥çš„æ„å»º
2. ç‚¹å‡» **Console Output**
3. æŸ¥æ‰¾é”™è¯¯ä¿¡æ¯
4. **å‘Šè¯‰æˆ‘å…·ä½“çš„é”™è¯¯**ï¼Œæˆ‘ä¼šå¸®ä½ è§£å†³

### å¸¸è§é—®é¢˜

1. **æ’ä»¶é”™è¯¯**: `Invalid agent type "docker"`
   - è§£å†³: æ£€æŸ¥æ’ä»¶æ˜¯å¦å·²æ­£ç¡®åŠ è½½

2. **è¿æ¥é”™è¯¯**: `Permission denied` æˆ– `Host key verification failed`
   - è§£å†³: å·²é…ç½®ï¼Œå¦‚æœè¿˜æœ‰é—®é¢˜ï¼Œæ£€æŸ¥ Credential

3. **æ„å»ºé”™è¯¯**: `npm install failed` æˆ– `npm run build failed`
   - è§£å†³: æŸ¥çœ‹å…·ä½“çš„ npm é”™è¯¯ä¿¡æ¯

---

**æç¤º**: Job é…ç½®å·²åˆ›å»ºï¼Œç°åœ¨å¯ä»¥åœ¨ Jenkins Web UI ä¸­çœ‹åˆ°å¹¶è§¦å‘æ„å»ºäº†ã€‚æ„å»ºå¼€å§‹åï¼Œä»£ç ä¼šè‡ªåŠ¨ä» GitHub åŒæ­¥ã€‚
