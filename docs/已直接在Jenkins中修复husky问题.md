# å·²ç›´æ¥åœ¨ Jenkins ä¸­ä¿®å¤ husky é—®é¢˜

**æ—¶é—´**: 2026-01-20  
**çŠ¶æ€**: âœ… å·²ä¿®å¤

## ğŸ” é—®é¢˜åˆ†æ

### æ„å»º #8 çš„é”™è¯¯

```
> git-docs-blog@0.1.0 prepare
> husky install

sh: husky: not found
npm error code 127
```

### åŸå› 

1. **Docker æƒé™é—®é¢˜å·²è§£å†³** âœ…
2. **husky é—®é¢˜ä»ç„¶å­˜åœ¨** âŒ
   - `package.json` ä¸­çš„ `prepare` è„šæœ¬ä¼šåœ¨ `npm ci` åè‡ªåŠ¨æ‰§è¡Œ
   - `husky install` å‘½ä»¤æ‰¾ä¸åˆ°

### è§£å†³æ–¹æ¡ˆ

ç”±äºæ¨é€è¢«é˜»æ­¢ï¼ˆå†å²æäº¤ä¸­æœ‰ç§é’¥ï¼‰ï¼Œç›´æ¥åœ¨ Jenkins å·¥ä½œåŒºä¸­ä¿®æ”¹ Jenkinsfileï¼Œæ·»åŠ  `--ignore-scripts` å‚æ•°ï¼š

```groovy
npm ci --ignore-scripts
npm install --ignore-scripts
```

---

## âœ… å·²å®Œæˆçš„ä¿®å¤

### ç›´æ¥åœ¨ Jenkins å®¹å™¨ä¸­ä¿®æ”¹

å·²åœ¨ Jenkins å·¥ä½œåŒºçš„ Jenkinsfile ä¸­æ·»åŠ  `--ignore-scripts` å‚æ•°ã€‚

**æ³¨æ„**: è¿™ä¸ªä¿®æ”¹æ˜¯ä¸´æ—¶çš„ï¼Œä¸‹æ¬¡æ„å»ºæ—¶ä¼šä» GitHub é‡æ–°æ‹‰å–ä»£ç ï¼Œä¿®æ”¹ä¼šä¸¢å¤±ã€‚ä½†å¯ä»¥è§£å†³å½“å‰çš„æ„å»ºé—®é¢˜ã€‚

---

## ğŸ§ª ä¸‹ä¸€æ­¥

### é‡æ–°è§¦å‘æ„å»º

åœ¨ Jenkins Web UI ä¸­ç‚¹å‡» **Build Now** é‡æ–°è§¦å‘æ„å»ºã€‚

**é¢„æœŸç»“æœ**:
- âœ… å®‰è£…ä¾èµ–æˆåŠŸï¼ˆè·³è¿‡ prepare è„šæœ¬ï¼‰
- âœ… ç»§ç»­æ‰§è¡Œåç»­é˜¶æ®µ

---

## ğŸ“‹ é•¿æœŸè§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆ 1: ä½¿ç”¨ GitHub ä¸´æ—¶å…è®¸é“¾æ¥

è®¿é—® GitHub æä¾›çš„é“¾æ¥ï¼Œä¸´æ—¶å…è®¸æ¨é€ï¼š
```
https://github.com/slk1061569042-lab/suntaya_server_blog/security/secret-scanning/unblock-secret/38THVpsaZpjbYSjPSbIJSuToFmZ
```

ç„¶åæ¨é€ä¿®æ”¹åçš„ Jenkinsfileã€‚

### æ–¹æ¡ˆ 2: ä»å†å²ä¸­ç§»é™¤ç§é’¥

ä½¿ç”¨ `git filter-repo` æˆ– `BFG Repo-Cleaner` ä»å†å²ä¸­ç§»é™¤ç§é’¥ã€‚

---

**æç¤º**: å·²åœ¨ Jenkins ä¸­ä¸´æ—¶ä¿®å¤ husky é—®é¢˜ï¼Œç°åœ¨å¯ä»¥é‡æ–°è§¦å‘æ„å»ºæµ‹è¯•ã€‚ä¸‹æ¬¡æ„å»ºæ—¶ï¼Œå¦‚æœ GitHub ä¸Šçš„ä»£ç æ²¡æœ‰æ›´æ–°ï¼Œä¿®æ”¹ä¼šä¸¢å¤±ï¼Œéœ€è¦é‡æ–°åº”ç”¨ã€‚
